import{A as l,b as n,s}from"./utils.js";const o=new l;function b(){const e=document.getElementById("dump-database"),t=document.getElementById("clear-database");e&&e.addEventListener("click",i),t&&t.addEventListener("click",r),u()}function i(){if(confirm("Export all profiling data?"))try{o.dumpDatabase(),n("Database export started")}catch(e){console.error("Failed to export database:",e),s("Failed to export database")}}async function r(){if(confirm("Delete all profiling data? This cannot be undone."))try{const e=document.getElementById("clear-database"),t=e.textContent;e.textContent="Clearing...",e.disabled=!0,await o.deleteDatabase(),n("Database cleared successfully"),setTimeout(()=>{window.location.reload()},1500)}catch(e){console.error("Failed to clear database:",e),s("Failed to clear database");const t=document.getElementById("clear-database");t.textContent="Clear Database",t.disabled=!1}}function u(){const e=document.getElementById("settings-display");if(e){const t={"Storage Backend":"SQLite","Data Retention":"Unlimited","Sampling Rate":"100%",Authentication:"Configured on the server"};let a='<dl class="settings-list">';for(const[d,c]of Object.entries(t))a+=`
        <dt>${d}:</dt>
        <dd>${c}</dd>
      `;a+="</dl>",e.innerHTML=a}}function f(){const e=document.getElementById("dump-database"),t=document.getElementById("clear-database");e&&e.removeEventListener("click",i),t&&t.removeEventListener("click",r)}export{f as cleanupSettings,b as initSettings};
